<!DOCTYPE html>
<html lang="es">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A static website</title>
    <link rel="stylesheet" href="./index.css">
    <script type="module" src="./index.js"></script>
  </head>

  <body>
    <form method="post" name="Contact Form">
      <p>
          <label for="name">Name:</label>
          <input type="text" name="name" id="name">
      </p>
      <p>
          <label for="email">Email:</label>
          <input type="email" name="email" id="email">
      </p>
      <p>
          <label for="comments">Comments:</label><br/>
          <textarea name="comments" id="comments"></textarea>
      </p>
      <p>
          <input type="submit">
      </p>
      </form>
    <div>
      <input type="number" id="a">A
      <input type="number" id="b">B
      <button onclick="getSumaPOST()">Sumar con POST</button>
      <button onclick="getSumaGET()">Sumar con GET</button>
    </div>
  </body>
  <script>
    function getSumaPOST() {
      const a = document.querySelector("#a").value;
      const b = document.querySelector("#b").value;
      data = { a: a, b: b }
      fetch(".netlify/functions/suma", {
        method: 'POST',
        body: JSON.stringify(data),
        headers: {
          'Content-Type': 'application/json'
        }
      }).catch(function (error) {
        console.log('Hubo un problema con la petición Fetch:' + error.message);
      })
        .then(res => res.json().then(data => alert(data.suma)))
    }

    function getSumaGET() {
      const a = document.querySelector("#a").value;
      const b = document.querySelector("#b").value;

      fetch(`.netlify/functions/suma?a=${a}&b=${b}`, {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json'
        }
      }).catch(function (error) {
        console.log('Hubo un problema con la petición Fetch:' + error.message);
      })
        .then(res => res.json().then(data => alert(data.suma)))
    }
  </script>

</html>